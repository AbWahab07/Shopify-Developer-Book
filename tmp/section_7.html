<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title></title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css"/>
  </head>

  <body>
    <div class="chapter">
      <h2 id='shopify_inventory'>Shopify Inventory</h2>

<p>When I am working out a development plan with my engineering hat on, I always put the inventory setup first, and things like the theme last. To achieve success a Shop needs to present inventory in a way that complements a smooth shopping experience, and that is not necessarily accomplished with a little gallery, carousel, slideshow or other front-end gimmick. Sometimes deeper thinking about how a product, it&#8217;s variants, pricing, images and options will dictate the entire behaviour of the sales process is in order. If the inventory is not organized correctly, too much work can be expended in a fruitless quest for more sales.</p>

<p>A product can be described and will require at a minimum a title. That title will then be turned into a handle that is a reference to the product in the shop. A quick example is a product with the title <strong>Quick Brown Fox</strong>. Shopify will set a handle to this product as <strong>quick_brown_fox</strong> and the so the resource will be found online as the shop&#8217;s URL appended with /products/quick_brown_fox. Without further action a product could be created and added to inventory that would have a zero dollar price, infinite inventory, and no tags, images, description or other useful attributes. It would exist for the purposes of showing up on the site, and to be accessed by an API call using the handle or ID it was assigned. You can <em>always</em> get the ID of a product simply by looking at the URL in the shop admin for the product when editing it. And example would be /admin/products/90368349 where the 903368349 is the unique ID for the product. As long as that product exists in the shop, that number will never change. It is used during import and export operations to identify products that will need to be updated. It is also handy to use that number when quickly checking out a product with the API. For example, perhaps we want to quickly see if a product has any metafields. A very quick but effective command-line effort would be:</p>

<p><img alt='title' src='file://localhost/Users/dlazar/Pictures/Shopify%20E-Book/api%20call.png' /></p>

<p>So, with just a couple of keystrokes, we found a product and we able to see it had no metafield resources attached to it.</p>

<p>When setting up a product in inventory we can edit the variant and provide a title for the variant as well as it&#8217;s price, SKU and inventory management policy. Shopify also provides three options that can be assigned to a variant. If a product has a color, size and material they can be accommodated as options. These options could be anything so there is a fair amount of flexibility in using them. A product with attributes like density, plasticity, taste, style, or even chemical composition could be setup. Assuming all three options are used Shopify allows a product up to 100 variants. This means a product with five colors, four sizes and three materials would require 5 times 4 times 3 or 60 variants. Each one counts as an SKU in Shopify for the pricing plan selected. It is not necessary to assign an SKU to each variant, and you can assign the same SKU to as many variants as needed. Shopify simply treats the SKU as an attribute with no special meaning. Using the Shopify Ajax API it is very simple to use the handle of a product to get all of it&#8217;s attributes. If we open up a store that has a version of the API code rendered as part of the theme, we can use the developer tools of our browser to inspect the details.</p>

<p><img alt='title' src='file://localhost/Users/dlazar/Pictures/Shopify%20E-Book/ajax%20product.png' /></p>

<p>The quick examination of the object representing a Shopify product shows us the structure of a product&#8217;s options and how they are responsible for attributes generated for each variant. We can use this to completely customize the way Shopify stores render products and variants. Many shops use the code Shopify provides to render each option as a separate HTML select element instead of one select element with each element separated with slashes. When a selection is made, a callback is triggered with the variant and that allows a shop to update things like pricing and availability. It is simple, reliable and it works. It can be relied on by developers to take front-end shop development to the next level beyond those basics.</p>

<p>If the Shop uploaded images for the product, I can detect images that might match the SKU assigned to the variant, or perhaps the variant title. It is easy to make up some rules dictating how images that are uploaded for a product are names, so that that name can be used in the callback logic.</p>

<p>A pattern I have used successfully to bring to life Shops with clickable image swatches that change the variant, loading new sets of thumbnails, and allowing a mix of select elements with color swatches is to simply add a small script library to the shop containing code to work with the options. I let the default Shopify code <strong>option_selectors.js</strong> run knowing it will setup the HTML select elements and wire up whatever callback I want. I hide all the select elements Shopify generated. I modify the callback to run any extra code I may need to ensure smooth operations with the selections. Since I hid the HTML select elements, I run code that renders images or color swatches representing the variants. Each set of thumbnails, or color swatches is assigned a click listener and that is the key to ensuring the right variant is selected. A click on an image that represents the product with the style &#8220;faux beaver fur&#8221; can trigger the change event on the hidden HTML select element setting it to the value &#8220;faux beaver fur&#8221; and the callback function will be called with the correct variant. Fabulous and simple. Clicks on an image can be so much more intuitive than selecting text from a drop down element. Perhaps the product has not only faux beaver fur but also an option called color, represented by clickable color boxes. A click on any of the color boxes would be recognized as <strong>blue</strong>, <strong>red</strong> or perhaps <strong>green</strong>. We could change the background color of the main image to match. Or we could load new images of the product with &#8220;beaver faux fur&#8221; colorized to match.</p>

<p>Knowing how Shopify inventory works with respect to variants and options is crucial to building out shops with advanced capabilities. To take a shop to a level where shoppers can easily add the product of their choice into the cart and buy it without guesswork or too much reading is essential. Knowing that you can upload as many images of a product as you want does not make it easy to swap the images when options are selected. One technique is to use the Shopify administration interface to add text to product image alt attributes. Those should be used for improving SEO but they can also be used to make a primitive image swapper work. For example, if the alt tag was set to a color that matched the variant title, you could swap the image currently visible with one that matches color wise when a variant change is detected. A more sophisticated approach would be to examine the name of the image itself. Basic regular expressions can be used to parse a filename into all of it&#8217;s parts. That might be <strong>white_lily_formica_solipstic_grande.jpeg</strong> where you can decide that the click was on a <em>white lily</em> colored <em>formica solipstic</em> variant and that the image is Shopify grande in size. Now, with a tiny bit of code, you could substitute the image uploaded as <strong>black_lily_formica_solipstic.jpeg</strong> and you could set the size to medium using the source <strong>black_lily_formica_solipstic_medium.jpeg</strong>.</p>

<p>Sometimes you have to present a list of colors, but the sizes should remain as an HTML select element. Don&#8217;t hide the select element for size changes. Be aware that when showing and hiding elements like the ones Shopify renders in their option_selectors.js file, that they are using a numbering scheme derived from the representation of the product object too. If there are three options, they are listed as option1, option2, option3 and that you might have the actual options in an array where option<span>0</span> is option1, coming from a click on a select element with the DOM ID product-select-option-0 depending on how you called the select element in your theme (in this case ID was product-select).</p>

<p>In summary, it is possible to present your Products in Shopify with pretty amazing effects triggered by clicks on elements other then HTML select elements, while maintaing control over the current variant, meaning you can update prices and keep the add to cart action enabled or disabled depending on inventory settings.</p>


    </div>
  </body>
</html>
